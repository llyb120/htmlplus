<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reactive-Lit æ¡†æ¶ç¤ºä¾‹</title>
    <script src="reactive-lit.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .example-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .example-card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .demo-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 5px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        input[type="text"] {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            width: 200px;
            margin: 5px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .counter {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 20px 0;
        }
        
        .todo-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .todo-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        
        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }
        
        .user-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .user-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid white;
            margin-bottom: 15px;
        }
        
        .user-card h3 {
            margin: 10px 0;
            font-size: 1.8em;
        }
        
        .user-card .role {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-info h4 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .product-price {
            color: #667eea;
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .chart-bar {
            height: 30px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            margin: 10px 0;
            border-radius: 5px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            padding: 0 10px;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Reactive-Lit æ¡†æ¶ç¤ºä¾‹é›†åˆ</h1>
        
        <!-- ç¤ºä¾‹ 1: åŸºç¡€è®¡æ•°å™¨ -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 1: å“åº”å¼è®¡æ•°å™¨</h2>
            <p>å±•ç¤ºåŸºç¡€çš„å“åº”å¼çŠ¶æ€ç®¡ç†å’Œäº‹ä»¶å¤„ç†</p>
            <div id="counter-demo" class="demo-area"></div>
        </div>
        
        <!-- ç¤ºä¾‹ 2: åŒå‘ç»‘å®šè¾“å…¥æ¡† -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 2: åŒå‘æ•°æ®ç»‘å®š</h2>
            <p>å®æ—¶å“åº”ç”¨æˆ·è¾“å…¥ï¼Œå±•ç¤ºåŒå‘ç»‘å®šæ•ˆæœ</p>
            <div id="input-demo" class="demo-area"></div>
        </div>
        
        <!-- ç¤ºä¾‹ 3: Todo List -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 3: å¾…åŠäº‹é¡¹åˆ—è¡¨</h2>
            <p>åŠ¨æ€åˆ—è¡¨æ¸²æŸ“ã€æ¡ä»¶æ¸²æŸ“å’Œæ•°ç»„æ“ä½œ</p>
            <div id="todo-demo" class="demo-area"></div>
        </div>
        
        <!-- ç¤ºä¾‹ 4: ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 4: åŠ¨æ€ç”¨æˆ·å¡ç‰‡</h2>
            <p>å±æ€§ç»‘å®šã€æ ·å¼ç»‘å®šå’Œè®¡ç®—å±æ€§</p>
            <div id="user-demo" class="demo-area"></div>
        </div>
        
        <!-- ç¤ºä¾‹ 5: å•†å“åˆ—è¡¨ -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 5: å•†å“åˆ—è¡¨ç­›é€‰</h2>
            <p>åˆ—è¡¨æ¸²æŸ“ã€è¿‡æ»¤å’Œè®¡ç®—å±æ€§çš„ç»¼åˆåº”ç”¨</p>
            <div id="products-demo" class="demo-area"></div>
        </div>
        
        <!-- ç¤ºä¾‹ 6: åŠ¨æ€å›¾è¡¨ -->
        <div class="example-card">
            <h2>ç¤ºä¾‹ 6: å®æ—¶æ•°æ®å›¾è¡¨</h2>
            <p>åŠ¨æ€æ ·å¼ç»‘å®šå’Œå®šæ—¶å™¨åº”ç”¨</p>
            <div id="chart-demo" class="demo-area"></div>
        </div>
    </div>

    <script>
        const { html, render, reactive, effect, computed, createComponent, createState } = window.ReactiveLit;

        // ========== ç¤ºä¾‹ 1: å“åº”å¼è®¡æ•°å™¨ ==========
        function counterExample() {
            const container = document.getElementById('counter-demo');
            
            createComponent(() => {
                const [count, setCount] = createState(0);
                
                const template = html`
                    <div style="text-align: center;">
                        <div class="counter">${count()}</div>
                        <button onClick=${() => setCount(count() - 1)}>â– å‡å°‘</button>
                        <button onClick=${() => setCount(0)}>ğŸ”„ é‡ç½®</button>
                        <button onClick=${() => setCount(count() + 1)}>â• å¢åŠ </button>
                        <div style="margin-top: 20px; color: #666;">
                            ${count() > 0 ? 'ğŸ“ˆ æ­£æ•°' : count() < 0 ? 'ğŸ“‰ è´Ÿæ•°' : 'âš–ï¸ é›¶'}
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // ========== ç¤ºä¾‹ 2: åŒå‘æ•°æ®ç»‘å®š ==========
        function inputExample() {
            const container = document.getElementById('input-demo');
            
            createComponent(() => {
                const [name, setName] = createState('');
                const [email, setEmail] = createState('');
                
                const template = html`
                    <div>
                        <div style="margin-bottom: 20px;">
                            <input 
                                type="text" 
                                placeholder="è¯·è¾“å…¥å§“å"
                                .value=${name()}
                                onInput=${(e) => setName(e.target.value)}
                            />
                            <input 
                                type="text" 
                                placeholder="è¯·è¾“å…¥é‚®ç®±"
                                .value=${email()}
                                onInput=${(e) => setEmail(e.target.value)}
                            />
                        </div>
                        <div style="padding: 20px; background: white; border-radius: 8px; border-left: 4px solid #667eea;">
                            <h3 style="color: #667eea; margin-bottom: 10px;">å®æ—¶é¢„è§ˆï¼š</h3>
                            <p><strong>å§“åï¼š</strong>${name() || '(æœªå¡«å†™)'}</p>
                            <p><strong>é‚®ç®±ï¼š</strong>${email() || '(æœªå¡«å†™)'}</p>
                            <p><strong>å­—ç¬¦æ€»æ•°ï¼š</strong>${name().length + email().length}</p>
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // ========== ç¤ºä¾‹ 3: Todo List ==========
        function todoExample() {
            const container = document.getElementById('todo-demo');
            
            createComponent(() => {
                const state = reactive({
                    todos: [
                        { id: 1, text: 'å­¦ä¹  Reactive-Lit æ¡†æ¶', completed: false },
                        { id: 2, text: 'æ„å»ºå“åº”å¼åº”ç”¨', completed: false }
                    ],
                    newTodo: ''
                });
                
                const addTodo = () => {
                    if (state.newTodo.trim()) {
                        state.todos.push({
                            id: Date.now(),
                            text: state.newTodo,
                            completed: false
                        });
                        state.newTodo = '';
                    }
                };
                
                const toggleTodo = (id) => {
                    const todo = state.todos.find(t => t.id === id);
                    if (todo) todo.completed = !todo.completed;
                };
                
                const deleteTodo = (id) => {
                    const index = state.todos.findIndex(t => t.id === id);
                    if (index > -1) state.todos.splice(index, 1);
                };
                
                const template = html`
                    <div>
                        <div style="margin-bottom: 20px;">
                            <input 
                                type="text" 
                                placeholder="æ·»åŠ æ–°ä»»åŠ¡..."
                                .value=${state.newTodo}
                                onInput=${(e) => state.newTodo = e.target.value}
                                onKeypress=${(e) => e.key === 'Enter' && addTodo()}
                            />
                            <button onClick=${addTodo}>â• æ·»åŠ </button>
                        </div>
                        
                        <div>
                            ${state.todos.map(todo => html`
                                <div class="todo-item ${todo.completed ? 'completed' : ''}">
                                    <span onClick=${() => toggleTodo(todo.id)} style="cursor: pointer; flex: 1;">
                                        ${todo.completed ? 'âœ…' : 'â­•'} ${todo.text}
                                    </span>
                                    <button onClick=${() => deleteTodo(todo.id)}>ğŸ—‘ï¸ åˆ é™¤</button>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px;">
                            <strong>ç»Ÿè®¡ï¼š</strong>
                            æ€»è®¡ ${state.todos.length} é¡¹ï¼Œ
                            å·²å®Œæˆ ${state.todos.filter(t => t.completed).length} é¡¹ï¼Œ
                            å¾…å®Œæˆ ${state.todos.filter(t => !t.completed).length} é¡¹
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // ========== ç¤ºä¾‹ 4: ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ ==========
        function userExample() {
            const container = document.getElementById('user-demo');
            
            createComponent(() => {
                const user = reactive({
                    name: 'å¼ ä¸‰',
                    role: 'å‰ç«¯å·¥ç¨‹å¸ˆ',
                    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Felix',
                    skills: 85
                });
                
                const updateUser = () => {
                    const names = ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­'];
                    const roles = ['å‰ç«¯å·¥ç¨‹å¸ˆ', 'åç«¯å·¥ç¨‹å¸ˆ', 'å…¨æ ˆå·¥ç¨‹å¸ˆ', 'æ¶æ„å¸ˆ'];
                    user.name = names[Math.floor(Math.random() * names.length)];
                    user.role = roles[Math.floor(Math.random() * roles.length)];
                    user.skills = Math.floor(Math.random() * 50) + 50;
                    user.avatar = `https://api.dicebear.com/7.x/avataaars/svg?seed=${Date.now()}`;
                };
                
                const template = html`
                    <div>
                        <div class="user-card">
                            <img src="${user.avatar}" alt="${user.name}">
                            <h3>${user.name}</h3>
                            <p class="role">${user.role}</p>
                            <div style="margin-top: 20px;">
                                <div style="background: rgba(255,255,255,0.2); border-radius: 10px; padding: 10px;">
                                    <div style="margin-bottom: 5px;">æŠ€èƒ½ç­‰çº§ï¼š${user.skills}%</div>
                                    <div style="background: rgba(255,255,255,0.3); border-radius: 5px; overflow: hidden;">
                                        <div style="width: ${user.skills}%; height: 10px; background: white; border-radius: 5px; transition: width 0.5s;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button onClick=${updateUser}>ğŸ² éšæœºåˆ‡æ¢ç”¨æˆ·</button>
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // ========== ç¤ºä¾‹ 5: å•†å“åˆ—è¡¨ç­›é€‰ ==========
        function productsExample() {
            const container = document.getElementById('products-demo');
            
            createComponent(() => {
                const state = reactive({
                    products: [
                        { id: 1, name: 'MacBook Pro', price: 12999, category: 'ç”µè„‘' },
                        { id: 2, name: 'iPhone 15', price: 5999, category: 'æ‰‹æœº' },
                        { id: 3, name: 'iPad Air', price: 4799, category: 'å¹³æ¿' },
                        { id: 4, name: 'AirPods Pro', price: 1999, category: 'é…ä»¶' },
                        { id: 5, name: 'Magic Mouse', price: 799, category: 'é…ä»¶' }
                    ],
                    filter: 'å…¨éƒ¨',
                    sortBy: 'default'
                });
                
                const getFilteredProducts = () => {
                    let filtered = state.filter === 'å…¨éƒ¨' 
                        ? state.products 
                        : state.products.filter(p => p.category === state.filter);
                    
                    if (state.sortBy === 'price-asc') {
                        filtered = [...filtered].sort((a, b) => a.price - b.price);
                    } else if (state.sortBy === 'price-desc') {
                        filtered = [...filtered].sort((a, b) => b.price - a.price);
                    }
                    
                    return filtered;
                };
                
                const template = html`
                    <div>
                        <div style="margin-bottom: 20px;">
                            <button onClick=${() => state.filter = 'å…¨éƒ¨'} 
                                    style="${state.filter === 'å…¨éƒ¨' ? 'opacity: 1;' : 'opacity: 0.6;'}">
                                å…¨éƒ¨
                            </button>
                            <button onClick=${() => state.filter = 'ç”µè„‘'}
                                    style="${state.filter === 'ç”µè„‘' ? 'opacity: 1;' : 'opacity: 0.6;'}">
                                ç”µè„‘
                            </button>
                            <button onClick=${() => state.filter = 'æ‰‹æœº'}
                                    style="${state.filter === 'æ‰‹æœº' ? 'opacity: 1;' : 'opacity: 0.6;'}">
                                æ‰‹æœº
                            </button>
                            <button onClick=${() => state.filter = 'å¹³æ¿'}
                                    style="${state.filter === 'å¹³æ¿' ? 'opacity: 1;' : 'opacity: 0.6;'}">
                                å¹³æ¿
                            </button>
                            <button onClick=${() => state.filter = 'é…ä»¶'}
                                    style="${state.filter === 'é…ä»¶' ? 'opacity: 1;' : 'opacity: 0.6;'}">
                                é…ä»¶
                            </button>
                            <span style="margin: 0 20px;">|</span>
                            <button onClick=${() => state.sortBy = 'price-asc'}>ä»·æ ¼å‡åº</button>
                            <button onClick=${() => state.sortBy = 'price-desc'}>ä»·æ ¼é™åº</button>
                        </div>
                        
                        <div class="product-grid">
                            ${getFilteredProducts().map(product => html`
                                <div class="product-card">
                                    <img src="https://via.placeholder.com/300x200/667eea/ffffff?text=${encodeURIComponent(product.name)}" alt="${product.name}">
                                    <div class="product-info">
                                        <h4>${product.name}</h4>
                                        <p style="color: #999; margin: 5px 0;">${product.category}</p>
                                        <div class="product-price">Â¥${product.price}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px; text-align: center;">
                            æ˜¾ç¤º ${getFilteredProducts().length} ä¸ªå•†å“
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // ========== ç¤ºä¾‹ 6: åŠ¨æ€å›¾è¡¨ ==========
        function chartExample() {
            const container = document.getElementById('chart-demo');
            
            createComponent(() => {
                const state = reactive({
                    data: [
                        { label: 'å‘¨ä¸€', value: 65 },
                        { label: 'å‘¨äºŒ', value: 78 },
                        { label: 'å‘¨ä¸‰', value: 82 },
                        { label: 'å‘¨å››', value: 45 },
                        { label: 'å‘¨äº”', value: 91 }
                    ]
                });
                
                const randomize = () => {
                    state.data.forEach(item => {
                        item.value = Math.floor(Math.random() * 100);
                    });
                };
                
                const addDay = () => {
                    const days = ['å‘¨å…­', 'å‘¨æ—¥', 'å‘¨å…«', 'å‘¨ä¹', 'å‘¨å'];
                    const nextDay = days[state.data.length - 5] || `Day ${state.data.length + 1}`;
                    state.data.push({
                        label: nextDay,
                        value: Math.floor(Math.random() * 100)
                    });
                };
                
                const template = html`
                    <div>
                        <div style="margin-bottom: 20px;">
                            <button onClick=${randomize}>ğŸ² éšæœºæ•°æ®</button>
                            <button onClick=${addDay}>â• æ·»åŠ ä¸€å¤©</button>
                            <button onClick=${() => state.data.length > 1 && state.data.pop()}>â– åˆ é™¤æœ€åä¸€å¤©</button>
                        </div>
                        
                        <div>
                            ${state.data.map(item => html`
                                <div style="margin-bottom: 15px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <strong>${item.label}</strong>
                                        <span>${item.value}%</span>
                                    </div>
                                    <div class="chart-bar" style="width: ${item.value}%;">
                                        ${item.value > 20 ? item.value + '%' : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px;">
                            <strong>ç»Ÿè®¡ï¼š</strong>
                            å¹³å‡å€¼ï¼š${Math.round(state.data.reduce((sum, item) => sum + item.value, 0) / state.data.length)}%ï¼Œ
                            æœ€å¤§å€¼ï¼š${Math.max(...state.data.map(item => item.value))}%ï¼Œ
                            æœ€å°å€¼ï¼š${Math.min(...state.data.map(item => item.value))}%
                        </div>
                    </div>
                `;
                
                render(template, container);
            }, container);
        }

        // é¡µé¢åŠ è½½ååˆå§‹åŒ–æ‰€æœ‰ç¤ºä¾‹
        document.addEventListener('DOMContentLoaded', () => {
            counterExample();
            inputExample();
            todoExample();
            userExample();
            productsExample();
            chartExample();
        });
    </script>
</body>
</html>

