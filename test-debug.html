<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Debug Test</title>
    <script src="reactive-lit.js"></script>
</head>
<body>
    <h1>调试测试</h1>
    <div id="test1" style="border: 2px solid red; padding: 20px; margin: 20px;"></div>
    <my-test></my-test>

    <script>
        console.log('开始测试...');
        
        // 测试直接渲染
        const { html, render, createComponent, useState } = window.ReactiveLit;
        
        console.log('API:', { html, render, createComponent, useState });
        
        // 测试 1: 直接渲染（不用组件）
        const testContainer = document.getElementById('test1');
        const template = html`
            <div>
                <p>测试直接渲染</p>
                <button onClick=${() => {
                    console.log('直接渲染的按钮被点击了！');
                    alert('直接渲染按钮工作正常！');
                }}>
                    点我测试直接渲染
                </button>
            </div>
        `;
        render(template, testContainer);
        console.log('直接渲染完成');
        
        // 测试 2: Web Component
        createComponent('my-test', () => {
            console.log('组件渲染函数被调用');
            const count = useState(0);
            console.log('useState 返回:', count);
            
            return html`
                <div style="border: 2px solid blue; padding: 20px; margin: 20px;">
                    <h3>计数: ${count()}</h3>
                    <button onClick=${() => {
                        console.log('组件按钮被点击！当前值:', count());
                        count(count() + 1);
                        console.log('新值:', count());
                    }}>增加</button>
                </div>
            `;
        });
        console.log('组件注册完成');
    </script>
</body>
</html>

